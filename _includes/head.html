<head>
  <title>{{ page.title }}</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{{ "/assets/style.css" | relative_url }}">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/microtip@0.2.2/microtip.min.css"
    integrity="sha256-RUSUTTyNeNKfP+mJISBiUTVElF6MSDsJcwYZrcSyUII=" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js"
    integrity="sha256-IdYuEFP3WJ/mNlzM18Y20Xgav3h5pgXYzl8fW4GnuPo=" crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"
    integrity="sha256-DFDZACuFeAqEKv/7Vnu1Tt5ALa58bcWZegGGFNgET8g=" crossorigin="anonymous"></script>


  <script>
    const macros_promise =
      {% if page.macrolib %}
      fetch("{{site.baseurl}}/assets/macros/{{page.macrolib}}.mathjax.json").then(response => response.json());
      {% else %}
      Promise.resolve({})
      {% endif %};

    document.addEventListener("DOMContentLoaded", function () {
      macros_promise.then(
        function (macros) {
          window.MathJax = {
            loader: {
              load: ['[custom]/xypic.js'],
              paths: {custom: 'https://cdn.jsdelivr.net/gh/sonoisa/XyJax-v3@3.0.1/build/'}
            },
            tex: {
              inlineMath: [['$','$']],
              displayMath: [['$$','$$']],
              macros: macros,
              packages: {'[+]': ['xypic']},
            },
            chtml: {
              mtextInheritFont: true,
            },
          };
          var script = document.createElement("script");
          script.type = "text/javascript";
          script.src  = "https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-chtml-full.js";
          document.getElementsByTagName("head")[0].appendChild(script);
        });
    });

  </script>

</head>
